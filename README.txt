メスイサの⌛

MSX用の時計です。DOSやNextor上で時刻を扱えるようになります。
RP5C01A完全互換ではありません。RP5C01Aの機能のうち、主にBDOSコールで使用される機能を搭載しています。

部品はbluepillボードと電池ホルダーのみです。
ここ重要-> bluepill裏面のR10を外してください <-ここ重要
写真の通りに組み立てるだけです。くれぐれもbluepillの向きにご注意ください。
ジャンパ位置は写真の通りにして下さい。電池はCR2032です。

* 誤差について

誤差が大きいので較正の必要があります。
calrtcが較正ツールです。clockは日時を連続表示します(ESCで終了)誤差の確認に便利です。

使い方
calrtc <較正値(ppm単位)>

較正値は時計の進みを遅くする場合は負の値、速くする場合は正の値で指定します。

例
7日間で40秒進んだ又は遅れた場合。

較正値 = 1000000 * 40秒 / (60秒 * 60分 * 24時 * 7日) = 66.1375

較正値は整数で指定するので四捨五入して66となります。

進んだ場合
遅らせる必要があるので負の値で指定します

コマンド
calrtc -66

遅れた場合
速める必要があるので正の値で指定します

コマンド
calrtc 66

* 御注意

較正データは電池でバックアップされるので電池が切れると消失します。
BDOSコールを用いないで時計にアクセスする場合はアドレス0～5又はアドレス7～12の順にアクセスして下さい。

* 時計の動作が不安定な場合

MSX本体電源のON/OFFを何度も繰り返すと時計が遅れる、やけに遅い、等、時計の動作が不安定な場合はC9/C12を外してみて下さい。
又は付属のチップコンデンサー(10pF)に交換してみて下さい。
